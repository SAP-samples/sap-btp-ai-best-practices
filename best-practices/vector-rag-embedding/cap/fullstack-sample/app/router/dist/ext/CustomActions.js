sap.ui.define(["sap/m/MessageBox","sap/ui/core/Fragment"],function(e,o){"use strict";return{onUpload:function(e,a){const t=this._view;const n=`${t.getModel().getServiceUrl()}ScienceDataUpload/content`;const i=new sap.ui.model.json.JSONModel({fileName:"",uploadUrl:n});t.setModel(i,"uploadModel");if(!this.oUploadDialog){o.load({name:"ui5.manage.sciencedata.ext.view.Upload",controller:this}).then(function(e){t.oUploadDialog=e;t.addDependent(e);e.open()})}else{t.oUploadDialog.open()}},onCancel:function(e){this._view.oUploadDialog.close();this._view.oUploadDialog.destroy()},onSave:function(o){const a=sap.ui.getCore().byId("fileUploader");const t=this._view.oUploadDialog;t.setBusy(true);const n=this._view.getModel().getHttpHeaders();if("X-CSRF-Token"in n){var i=new sap.ui.unified.FileUploaderParameter({name:"X-CSRF-Token",value:n["X-CSRF-Token"]});a.addHeaderParameter(i)}a.checkFileReadable().then(function(){a.upload()},function(o){e.show("The file cannot be read. It may have changed.")})},onUploadComplete:function(o){const a=this._view.oUploadDialog;const t=o.getParameter("responseRaw");const n=o.getParameter("status");a.setBusy(false);if(n===204){e.show("Upload Sucess!  \nClick on 'Go' to refresh the list report.");this._view.oUploadDialog.close();this._view.oUploadDialog.destroy()}else{e.error(`Upload Error: ${t}`)}}}});
//# sourceMappingURL=CustomActions.js.map