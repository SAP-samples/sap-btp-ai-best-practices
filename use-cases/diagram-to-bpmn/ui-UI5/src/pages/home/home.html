<div class="home-container">
  <section class="home-intro">
    <ui5-title level="H2">Diagram to BPMN</ui5-title>
    <ui5-text class="intro-text">
      Upload a process diagram image and convert it into BPMN 2.0 XML ready for SAP Signavio import. Download the generated BPMN file together with usage details.
    </ui5-text>
  </section>

  <div class="home-layout">
    <ui5-card class="generate-card">
      <ui5-card-header slot="header" title-text="Generate BPMN XML" subtitle-text="Upload diagram and configure generation">
        <ui5-icon name="workflow-tasks" slot="avatar"></ui5-icon>
      </ui5-card-header>
      <div class="card-content">
        <ui5-message-strip id="feedback-strip" class="feedback-strip" hide-close-button hidden></ui5-message-strip>

        <div class="form-field">
          <ui5-label for="diagram-input" show-colon>Process Diagram</ui5-label>
          <div class="file-picker">
            <ui5-button id="file-select-button" icon="upload">Choose File</ui5-button>
            <input
              type="file"
              id="diagram-input"
              accept=".png,.jpg,.jpeg,.webp,.svg,.svg+xml"
              hidden
            />
          </div>
          <ui5-text id="file-selected-text" class="file-selected-text">No file selected</ui5-text>
          <ui5-text class="upload-help" wrapping-type="Normal">
            Supported formats: PNG, JPG, JPEG, WEBP, SVG. Large diagrams may take several minutes to process.
          </ui5-text>
        </div>

        <div class="button-row">
          <ui5-button id="generate-button" design="Emphasized" icon="generate-shortcut" disabled>Generate BPMN XML</ui5-button>
          <ui5-button id="reset-button" design="Transparent" icon="reset">Reset</ui5-button>
        </div>

        <!--
        <ui5-button id="health-button" design="Transparent" icon="sys-enter-2">Check API Health</ui5-button>

        <ui5-panel id="health-panel" header-text="API Health Response" collapsed>
          <pre id="health-response" class="health-response">Run health check to view the API status.</pre>
        </ui5-panel>
        -->
      </div>
    </ui5-card>

    <ui5-card class="result-card">
      <ui5-card-header slot="header" title-text="Generation Result" subtitle-text="Download and review the generated BPMN">
        <ui5-icon name="document-text" slot="avatar"></ui5-icon>
      </ui5-card-header>
      <div class="card-content">
        <ui5-message-strip id="result-strip" class="result-strip" hide-close-button hidden></ui5-message-strip>

        <ui5-button id="download-button" design="Emphasized" icon="download" disabled>Download BPMN XML</ui5-button>

        <ui5-panel id="details-panel" header-text="Generation Details" collapsed>
          <div id="generation-details" class="details-list">
            <ui5-text>Generation statistics will appear here after a successful run.</ui5-text>
          </div>
        </ui5-panel>

        <ui5-panel id="xml-panel" header-text="BPMN XML Preview" collapsed>
          <ui5-textarea
            id="bpmn-preview"
            class="preview-textarea"
            readonly
            growing
            growing-max-lines="16"
            placeholder="Generate BPMN XML to preview the first lines here."
          ></ui5-textarea>
        </ui5-panel>
      </div>
    </ui5-card>
  </div>
</div>
