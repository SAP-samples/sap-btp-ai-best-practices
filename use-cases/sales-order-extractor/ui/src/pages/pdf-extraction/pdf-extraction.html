<div class="pdf-extraction-container">
  <ui5-title>Document Data Extraction</ui5-title>
  <br />
  <ui5-text>Upload a PDF, Excel, or CSV document to extract client information and line items using AI.</ui5-text>
  
  <!-- Upload Section -->
  <ui5-card style="margin-top: 1rem">
    <ui5-card-header slot="header" title-text="Upload Document">
      <ui5-icon name="upload" slot="avatar"></ui5-icon>
    </ui5-card-header>
    <div style="padding: 1rem">
      <div class="upload-section">
        <ui5-file-uploader 
          id="pdf-uploader" 
          accept=".pdf,.xlsx,.xls,.csv"
          placeholder="Choose PDF, Excel, or CSV file..."
          style="width: 100%; margin-bottom: 1rem;">
        </ui5-file-uploader>
        
        <div style="display: flex; gap: 1rem; align-items: center; margin-bottom: 1rem;">
          <ui5-label>AI Model:</ui5-label>
          <ui5-text style="font-weight: bold; color: var(--sapBrandColor);">GPT-4.1 (OpenAI via SAP Generative AI Hub)</ui5-text>
        </div>
        
        <ui5-button id="extract-button" design="Emphasized" disabled style="margin-top: 1rem">Process with GenAI</ui5-button>
        
        <!-- Debug button - temporary -->
        <ui5-button id="debug-enable-button" design="Transparent" style="margin-left: 1rem;">
          Enable Extract (Debug)
        </ui5-button>
      </div>
      
      <!-- Progress Indicator -->
      <ui5-progress-indicator 
        id="progress-indicator" 
        style="margin-top: 1rem; display: none;"
        value="0">
      </ui5-progress-indicator>
      
      <!-- Status Message -->
      <ui5-message-strip 
        id="status-message" 
        style="margin-top: 1rem; display: none;">
      </ui5-message-strip>
    </div>
  </ui5-card>

  <!-- Header Information Section -->
  <ui5-card id="header-card" style="margin-top: 1rem; display: none;">
    <ui5-card-header slot="header" title-text="Document Header Information">
      <ui5-icon name="document" slot="avatar"></ui5-icon>
    </ui5-card-header>
    <div style="padding: 1rem">
      <div class="header-info">
        <div style="display: grid; grid-template-columns: 1fr 1fr; gap: 1rem;">
          <div>
            <ui5-label>Client:</ui5-label>
            <ui5-text id="client-text" style="font-weight: bold; display: block; margin-top: 0.5rem;">-</ui5-text>
          </div>
          <div>
            <ui5-label>Date:</ui5-label>
            <ui5-text id="date-text" style="font-weight: bold; display: block; margin-top: 0.5rem;">-</ui5-text>
          </div>
        </div>
      </div>
    </div>
  </ui5-card>

  <!-- Line Items Table Section -->
  <ui5-card id="table-card" style="margin-top: 1rem; display: none;">
    <ui5-card-header slot="header" title-text="Extracted Line Items">
      <ui5-icon name="table-view" slot="avatar"></ui5-icon>
    </ui5-card-header>
    <div style="padding: 1rem">
      <!-- Export Button -->
      <div style="display: flex; justify-content: space-between; align-items: center; margin-bottom: 1rem;">
        <ui5-title level="H5">Items</ui5-title>
        <div style="display: flex; gap: 0.5rem;">
          <ui5-button id="create-sales-order-button" design="Emphasized">
            <ui5-icon name="add-document" slot="icon"></ui5-icon>
            Create Sales Order
          </ui5-button>
          <ui5-button id="export-button" design="Transparent">
            <ui5-icon name="download" slot="icon"></ui5-icon>
            Export CSV
          </ui5-button>
        </div>
      </div>
      
      <!-- Data Table -->
      <ui5-table id="line-items-table" no-data-text="No items extracted yet">
        <!-- Header Row -->
        <ui5-table-header-row slot="headerRow">
          <ui5-table-header-cell>
            <ui5-label>Material</ui5-label>
          </ui5-table-header-cell>
          <ui5-table-header-cell>
            <ui5-label>Quantity</ui5-label>
          </ui5-table-header-cell>
          <ui5-table-header-cell>
            <ui5-label>Unit Price</ui5-label>
          </ui5-table-header-cell>
        </ui5-table-header-row>
        
        <!-- Data rows will be added dynamically -->
      </ui5-table>
    </div>
  </ui5-card>

  <!-- Processing Details -->
  <ui5-card id="details-card" style="margin-top: 1rem; display: none;">
    <ui5-card-header slot="header" title-text="Processing Details">
      <ui5-icon name="information" slot="avatar"></ui5-icon>
    </ui5-card-header>
    <div style="padding: 1rem">
      <div class="processing-details">
        <div style="display: grid; grid-template-columns: 1fr 1fr 1fr; gap: 1rem;">
          <div>
            <ui5-label>Model Used:</ui5-label>
            <ui5-text id="model-used-text" style="display: block; margin-top: 0.5rem;">-</ui5-text>
          </div>
          <div>
            <ui5-label>Tokens Used:</ui5-label>
            <ui5-text id="tokens-used-text" style="display: block; margin-top: 0.5rem;">-</ui5-text>
          </div>
          <div>
            <ui5-label>Processing Time:</ui5-label>
            <ui5-text id="processing-time-text" style="display: block; margin-top: 0.5rem;">-</ui5-text>
          </div>
        </div>
      </div>
    </div>
  </ui5-card>
</div>
