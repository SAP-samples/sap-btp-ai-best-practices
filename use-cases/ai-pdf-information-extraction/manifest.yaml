applications:
  - name: DataExtraction_api
    memory: 512M
    disk_quota: 1G
    path: ./api # Points to API folder
    buildpacks:
      - python_buildpack
    command: python -m api_server
    routes:
      - route: https://data_extraction_api.cfapps.eu10-004.hana.ondemand.com
    env:
      PYTHONPATH: "."
      ALLOWED_ORIGIN: https://data_extraction.cfapps.eu10-004.hana.ondemand.com
      APP_ENV: production
      API_KEY: ((api_key))
      SSL_VERIFY: "false"  # Disable SSL verification for internal CF apps
  - name: DataExtraction_ui
    memory: 256M
    disk_quota: 1G
    path: ./ui # Points to UI folder
    buildpacks:
      - python_buildpack
    command: python streamlit_app.py
    routes:
      - route: https://data_extraction.cfapps.eu10-004.hana.ondemand.com
    env:
      PYTHONPATH: "."
      API_BASE_URL: https://data_extraction_api.cfapps.eu10-004.hana.ondemand.com
      API_KEY: ((api_key))
      SSL_VERIFY: "false"  # Disable SSL verification for internal CF apps
