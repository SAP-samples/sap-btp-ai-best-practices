"use strict";(self.webpackChunksap_btp_ai_best_practices_website=self.webpackChunksap_btp_ai_best_practices_website||[]).push([[9726],{483:(e,t,i)=>{i.d(t,{A:()=>b});var a=i(6540),n=i(4863),s=i(9030);const r="loginWallContainer_sHoo",o="loginWallOverlay_KYII",l="loginWallPopup_PsuK",c="headerContainer_L6CK",d="contentContainer_URUq",h="actionsWrapper_zWRC",u="errorMessage_dTqd",p="termsText_TJkc",m="createAccountLink_gpro",g="orSeparator_LvUk",f="loadingContainer_hxnG",x="spinner_IMfn";var v=i(6289),j=i(4848);const b=e=>{let{children:t,message:i="Log in or create a free SAP account to unlock this content. Get started in moments!",title:b="Unlock Free Content",renderOnlyWhenLoggedIn:y=!1}=e;const{isLoggedIn:A,login:w,isLoading:q,token:T}=(0,n.A)(),S=(0,s.Ay)("/img/logo.svg"),P=(0,s.Ay)("/privacy"),[k,_]=(0,a.useState)(!1),[N,C]=(0,a.useState)(!1);return A||T&&q?(0,j.jsx)(j.Fragment,{children:t}):q?(0,j.jsx)("div",{className:f,children:(0,j.jsx)("div",{className:x})}):y?null:(0,j.jsx)("div",{className:r,children:(0,j.jsx)("div",{className:o,children:(0,j.jsxs)("div",{className:l,children:[(0,j.jsx)("div",{className:c,children:"Login or create a free SAP account"}),(0,j.jsxs)("div",{className:d,children:[(0,j.jsx)("h2",{children:b}),(0,j.jsx)("p",{children:i})]}),(0,j.jsxs)("div",{className:h,style:{marginTop:"-10px",paddingTop:"0"},children:[(0,j.jsxs)("button",{onClick:()=>{C(!1),w()},className:"button button--primary button--lg",children:[(0,j.jsx)("img",{src:S,alt:"SAP Logo"})," Login with your SAP account"]}),N&&(0,j.jsx)("p",{className:u,children:"You must accept the terms and conditions to continue."}),(0,j.jsxs)("p",{className:p,style:{marginBottom:"0",textAlign:"center"},children:['By clicking "Login with your SAP account", you agree to SAP BTP AI Best Practices\' terms. You can learn about how SAP BTP AI Best Practices collects, uses, and shares data in the'," ",(0,j.jsx)(v.A,{to:P,target:"_blank",rel:"noopener noreferrer",children:"SAP BTP AI Best Practices' Privacy Statement"}),"."]}),(0,j.jsx)("div",{className:g,children:"or"}),(0,j.jsx)(v.A,{to:"https://account.sap.com/register",target:"_blank",className:m,children:"Create your free SAP account"})]})]})})})}},728:(e,t,i)=>{i.d(t,{A:()=>r});i(6540);var a=i(1552),n=i(1796),s=i(4848);function r(e){let{href:t,className:i,target:r,trackingFeature:o,children:l}=e;const c=()=>o?a.q.BUTTON_CLICK[o]:`trackable-link:${t}`,d=e=>{(0,n.sx)({featureName:c(),additionalData:{isNewTab:e.ctrlKey||e.metaKey||1===e.button||"_blank"===r,interactionType:e.type}})};return(0,s.jsx)("a",{href:t,className:i,target:r,onClick:d,onAuxClick:d,onContextMenu:e=>{(0,n.sx)({featureName:c(),additionalData:{isNewTab:!0,interactionType:"contextmenu"}})},children:l})}},1632:(e,t,i)=>{i(4825);var a=i(3013);(0,a.pU)("video",{pathData:"M0 352V160q0-26 19-45t45-19h224q26 0 45 19t19 45v29L464 69q8-5 16-5 13 0 22.5 9t9.5 23v320q0 14-9.5 23t-22.5 9q-9 0-16-4L352 324v28q0 27-19 45.5T288 416H64q-26 0-45-18.5T0 352zm64 32h224q14 0 23-9t9-23V160q0-13-9-22.5t-23-9.5H64q-14 0-23 9.5T32 160v192q0 14 9 23t23 9zm288-154v53l128 133V96z",ltr:!1,collection:"SAP-icons-v4",packageName:"@ui5/webcomponents-icons"});(0,a.pU)("video",{pathData:"M486 128q11 0 18.5 7.5T512 154v204q0 11-7.5 18.5T486 384q-6 0-11-3l-91-45v22q0 38-26 64t-64 26H90q-38 0-64-26T0 358V154q0-38 26-64t64-26h204q38 0 64 26t26 64v22l91-45q6-3 11-3zm-153 26q0-17-11-28t-28-11H90q-17 0-28 11t-11 28v204q0 17 11 28t28 11h204q17 0 28-11t11-28V154zm128 41l-77 38v45l77 39V195z",ltr:!1,collection:"SAP-icons-v5",packageName:"@ui5/webcomponents-icons"})},2128:(e,t,i)=>{i.d(t,{A:()=>c});var a=i(6540),n=i(9030),s=i(3302);const r=JSON.parse('{"p":{"luis-marques":{"name":"Marques, Luis","photo":"/img/contributors/luis-marques.jpg","link":"https://www.linkedin.com/in/luismarques-io/"},"marco-cigaina":{"name":"Cigaina, Marco","photo":"/img/contributors/marco-cigaina.jpg"},"andrii-rzhaksynskyi":{"name":"Rzhaksynskyi, Andrii","photo":"/img/contributors/andrii-rzhaksynskyi.jpg","link":"https://www.linkedin.com/in/andreyrzhaksinskiy/"},"velizar-stoyanov":{"name":"Stoyanov, Velizar","photo":"/img/contributors/velizar-stoyanov.jpg"},"joel-rodriguez":{"name":"Rodriguez, Joel","photo":"/img/contributors/joel-rodriguez.jpg"},"aman-chopra":{"name":"Chopra, Aman","photo":"/img/contributors/aman-chopra.jpg"},"felix-bartler":{"name":"Bartler, Felix","photo":"/img/contributors/felix-bartler.jpg"},"francisco-robledo":{"name":"Robledo, Francisco","photo":"/img/contributors/francisco-robledo.jpg"},"robert-schulz":{"name":"Schulz, Robert","photo":"/img/contributors/robert-schulz.png"},"dan-antonio":{"name":"Antonio, Dan","photo":"/img/contributors/dan-antonio.jpg"},"ian-humphries":{"name":"Humphries, Ian","photo":"/img/contributors/ian-humphries.jpg"},"joerg-lange":{"name":"Lange, Joerg","photo":"/img/contributors/joerg-lange.jpg"},"chirag-gupta":{"name":"Gupta, Chirag","photo":"/img/contributors/chirag-gupta.jpg"},"bhagabat-prasad-behera":{"name":"Behera, Bhagabat Prasad","photo":"/img/contributors/bhagabat-prasad-behera.jpg"},"sergio-pacheco-sanchez":{"name":"Pacheco-Sanchez, Sergio"},"rajeshwari-kute":{"name":"Kute, Rajeshwari","photo":"/img/contributors/rajeshwari-kute.jpg"}}}');i(9754);var o=i(4848);function l(e){let{contributorId:t}=e;const i=r.p[t]||{name:t,photo:null},[l,c]=a.useState(!i.photo),d=i.photo?.startsWith("http")?i.photo:(0,n.Ay)(i.photo),h=i.link?"a":"div",u=i.link?{href:i.link,target:"_blank",rel:"noopener noreferrer"}:{};return(0,o.jsxs)(h,{className:"contributor-card",...u,children:[!l&&(0,o.jsx)("img",{src:d,alt:i.name,className:"contributor-photo",onError:()=>c(!0)}),(0,o.jsx)("div",{className:"contributor-photo contributor-photo-placeholder",style:{display:l?"flex":"none"},children:(0,o.jsx)(s.A,{name:"person-placeholder"})}),(0,o.jsx)("div",{className:"contributor-name",children:i.name})]})}function c(e){let{contributorIds:t,className:i=""}=e;return(0,o.jsx)("div",{className:`contributors-grid ${i}`,children:t.map((e=>(0,o.jsx)(l,{contributorId:e},e)))})}},4105:(e,t,i)=>{i.d(t,{A:()=>a});const a=i.p+"assets/images/confusion-matrix-code-79fb514a57be0108fb8866473bd3e235.png"},4520:(e,t,i)=>{i(4825);var a=i(3013);(0,a.pU)("pdf-attachment",{pathData:"M496 223q16 0 16 16t-16 16h-85v44h60q16 0 16 16t-16 16h-60v60q0 16-16 16-6 0-11-4.5t-5-11.5V239q0-7 5-11.5t11-4.5h101zm-363 67q0 27-19 46.5T67 356H32v35q0 16-16 16-6 0-11-4.5T0 391V239q0-7 5-11.5t11-4.5h51q28 0 47 19.5t19 47.5zM32 324h35q14 0 24-10t10-24-10-24.5T67 255H32v69zm221-101q28 0 47 19.5t19 47.5v50q0 28-19 47.5T253 407h-51q-6 0-11-4.5t-5-11.5V239q0-7 5-11.5t11-4.5h51zm34 67q0-14-10-24.5T253 255h-35v120h35q14 0 24-10.5t10-24.5v-50zm132 153h32v36q0 14-9 23t-23 9H99q-14 0-23-9t-9-23v-33h32v33h320v-36zM99 192H67v-64L195 0h224q13 0 22 9 10 10 10 23v64h-32V32H227v96q0 13-10 22-9 9-23 9H99v33z",ltr:!0,collection:"SAP-icons-v4",packageName:"@ui5/webcomponents-icons"});(0,a.pU)("pdf-attachment",{pathData:"M294 96q-10 0-17-7l-39-38H83v19q0 11-7 18.5T58 96t-18.5-7.5T32 70V26q0-11 7.5-18.5T58 0h190q9 0 18 7l46 45q8 8 8.5 18T313 88t-19 8zm121 113v22h47q11 0 18.5 7t7.5 18-7.5 18.5T462 282h-47v47q0 11-7.5 18.5T389 355t-18-7.5-7-18.5V184q0-11 7-18.5t18-7.5h97q11 0 18.5 7.5T512 184t-7.5 18-18.5 7h-71zM74 158q31 0 52.5 21.5T148 232t-21.5 52.5T74 306H51v23q0 11-7 18.5T26 355t-18.5-7.5T0 329V184q0-11 7.5-18.5T26 158h48zm179 0q31 0 52.5 21.5T327 232v49q0 31-21.5 52.5T253 355h-49q-11 0-18-7.5t-7-18.5V184q0-11 7-18.5t18-7.5h49zM74 255q10 0 16.5-6.5T97 232q0-9-6.5-16T74 209H51v46h23zm202-23q0-9-7-16t-16-7h-23v95h23q9 0 16-7t7-16v-49zm114 280H26q-11 0-18.5-7.5T0 486v-44q0-11 7.5-18.5T26 416t18 7.5 7 18.5v19h314v-19q0-11 7-18.5t18-7.5 18.5 7.5T416 442v44q0 11-7.5 18.5T390 512z",ltr:!0,collection:"SAP-icons-v5",packageName:"@ui5/webcomponents-icons"})},5279:(e,t,i)=>{i.r(t),i.d(t,{assets:()=>u,contentTitle:()=>h,default:()=>g,frontMatter:()=>d,metadata:()=>a,toc:()=>p});const a=JSON.parse('{"id":"technical-view/narrow-ai/data-preparation-and-model-evaluation","title":"Data Preparation and Model Evaluation","description":"This page provides a unified set of best practices for data preparation and model evaluation applicable across various machine learning tasks, including regression, classification, time series forecasting, and anomaly detection.","source":"@site/docs/02-technical-view/02-narrow-ai/99-data-preparation-and-model-evaluation.mdx","sourceDirName":"02-technical-view/02-narrow-ai","slug":"/technical-view/narrow-ai/data-preparation-and-model-evaluation","permalink":"/docs/technical-view/narrow-ai/data-preparation-and-model-evaluation","draft":false,"unlisted":false,"tags":[],"version":"current","sidebarPosition":99,"frontMatter":{"title":"Data Preparation and Model Evaluation","description":"This page provides a unified set of best practices for data preparation and model evaluation applicable across various machine learning tasks, including regression, classification, time series forecasting, and anomaly detection.","hide_title":true,"sidebar_class_name":"hidden"},"sidebar":"tutorialSidebar","previous":{"title":"Deployment of Custom Predictive Models","permalink":"/docs/technical-view/narrow-ai/deployment-custom-predictive-models"},"next":{"title":"AI Services","permalink":"/docs/technical-view/ai-services/"}}');var n=i(4848),s=i(8453),r=(i(9329),i(5537),i(9030),i(483)),o=(i(3302),i(1632),i(4520),i(728),i(2416)),l=i(1014),c=(i(6289),i(2128));const d={title:"Data Preparation and Model Evaluation",description:"This page provides a unified set of best practices for data preparation and model evaluation applicable across various machine learning tasks, including regression, classification, time series forecasting, and anomaly detection.",hide_title:!0,sidebar_class_name:"hidden"},h=void 0,u={},p=[{value:"Data Preparation",id:"data-preparation",level:2},{value:"Data Quality and Cleaning",id:"data-quality-and-cleaning",level:3},{value:"Feature Engineering and Selection",id:"feature-engineering-and-selection",level:3},{value:"Time Series Specific Preparations",id:"time-series-specific-preparations",level:3},{value:"Model Evaluation",id:"model-evaluation",level:2},{value:"Regression and Time Series Forecasting Evaluation",id:"regression-and-time-series-forecasting-evaluation",level:3},{value:"Classification Model Evaluation",id:"classification-model-evaluation",level:3},{value:"Evaluation of Unsupervised Anomaly Detection",id:"evaluation-of-unsupervised-anomaly-detection",level:3},{value:"Clustering Performance Indicators",id:"clustering-performance-indicators",level:3},{value:"Confidence and Prediction Intervals",id:"confidence-and-prediction-intervals",level:3},{value:'<span class="post-article-first-title">Related Best Practices</span>',id:"related-best-practices",level:2},{value:"Related AI Capabilities",id:"related-ai-capabilities",level:2},{value:"Contributors",id:"contributors",level:2}];function m(e){const t={a:"a",em:"em",h2:"h2",h3:"h3",img:"img",li:"li",p:"p",strong:"strong",table:"table",tbody:"tbody",td:"td",th:"th",thead:"thead",tr:"tr",ul:"ul",...(0,s.R)(),...e.components};return(0,n.jsxs)(n.Fragment,{children:[(0,n.jsx)(l.A,{}),"\n",(0,n.jsx)("div",{className:"hero-header",children:(0,n.jsx)("h1",{children:"Data Preparation and Model Evaluation"})}),"\n",(0,n.jsx)(t.p,{children:"This page provides a unified set of best practices for data preparation and model evaluation applicable across various machine learning tasks, including regression, classification, time series forecasting, and anomaly detection."}),"\n",(0,n.jsx)(t.h2,{id:"data-preparation",children:"Data Preparation"}),"\n",(0,n.jsx)(t.p,{children:"High-quality data is the foundation of any effective machine learning model. The following steps are crucial for preparing your data for analysis. Leveraging in-database tools like SAP HANA's Predictive Analysis Library (PAL) can significantly improve efficiency by minimizing data movement."}),"\n",(0,n.jsx)(t.h3,{id:"data-quality-and-cleaning",children:"Data Quality and Cleaning"}),"\n",(0,n.jsxs)(t.ul,{children:["\n",(0,n.jsxs)(t.li,{children:[(0,n.jsx)(t.strong,{children:"Accuracy and Completeness:"})," Ensure that your data, especially independent variables, is accurate, complete, and free from errors."]}),"\n",(0,n.jsxs)(t.li,{children:[(0,n.jsx)(t.strong,{children:"Handling Null Values:"})," SAP HANA PAL functions may abort in the presence of NULL values. It is essential to have a strategy for handling them. You can replace NULLs with default values using SQL or employ imputation techniques. The ",(0,n.jsx)(t.a,{href:"https://help.sap.com/doc/cd94b08fe2e041c2ba778374572ddba9/2025_1_QRC/en-US/pal/algorithms/hana_ml.algorithms.pal.preprocessing.Imputer.html",children:"hana_ml.algorithms.pal.preprocessing.Imputer"})," offers various strategies like \u201cmean\u201d, \u201cmedian\u201d, \u201cmost_frequent\u201d, \u201cdelete\u201d, and \u201cals\u201d."]}),"\n",(0,n.jsxs)(t.li,{children:[(0,n.jsx)(t.strong,{children:"Outlier Management:"})," Outliers can distort analysis and model accuracy. Identify and handle them using techniques like capping, smoothing, or replacing them with interpolated values."]}),"\n",(0,n.jsxs)(t.li,{children:[(0,n.jsx)(t.strong,{children:"Sufficient Data:"})," Ensure you have enough data points, considering the number of features and the noise level in your data."]}),"\n",(0,n.jsxs)(t.li,{children:[(0,n.jsx)(t.strong,{children:"Validation:"})," Use techniques like cross-validation and residual analysis to validate your imputation strategies and overall data quality."]}),"\n"]}),"\n",(0,n.jsxs)(r.A,{children:[(0,n.jsx)(t.h3,{id:"feature-engineering-and-selection",children:"Feature Engineering and Selection"}),(0,n.jsxs)(t.ul,{children:["\n",(0,n.jsxs)(t.li,{children:[(0,n.jsx)(t.strong,{children:"Relevance:"})," Select independent variables that are logically related to the dependent variable. Domain expertise is invaluable in identifying features that are important from a business or scientific perspective."]}),"\n",(0,n.jsxs)(t.li,{children:[(0,n.jsx)(t.strong,{children:"Feature Importance Analysis:"}),' Use techniques to identify the most influential predictors. This helps in understanding the data, improving model performance, and avoiding the "curse of dimensionality." Methods include:',"\n",(0,n.jsxs)(t.ul,{children:["\n",(0,n.jsx)(t.li,{children:"Permutation importance"}),"\n",(0,n.jsxs)(t.li,{children:[(0,n.jsx)(t.a,{href:"https://shap.readthedocs.io/en/latest/",children:"SHapley Additive exPlanations (SHAP)"})," values"]}),"\n",(0,n.jsx)(t.li,{children:"Built-in model importance scores"}),"\n",(0,n.jsxs)(t.li,{children:["Certain hana-ml methods such as ",(0,n.jsx)(t.a,{href:"https://help.sap.com/doc/1d0ebfe5e8dd44d09606814d83308d4b/2.0.06/en-US/pal/algorithms/hana_ml.algorithms.pal.preprocessing.FeatureSelection.html",children:"hana_ml.algorithms.pal.feature_selection.FeatureSelection"})," function, which offers methods like \u201cchi-squared\u201d, \u201cinformation-gain\u201d, \u201cgini-index\u201d, and \u201cfisher-score\u201d or ",(0,n.jsx)(t.a,{href:"https://help.sap.com/doc/cd94b08fe2e041c2ba778374572ddba9/2024_3_QRC/en-US/pal/algorithms/hana_ml.algorithms.pal.tsa.permutation_importance.permutation_importance.html",children:"hana_ml.algorithms.pal.tsa.permutation_importance"})," for time series, classification and regression tasks."]}),"\n"]}),"\n"]}),"\n",(0,n.jsxs)(t.li,{children:[(0,n.jsx)(t.strong,{children:"Dimensionality Reduction:"})," For high-dimensional datasets, use techniques like Principal Component Analysis (PCA) to reduce the number of features while retaining essential information. This can reduce noise, speed up training, and improve detection accuracy. ",(0,n.jsx)(t.a,{href:"https://help.sap.com/doc/cd94b08fe2e041c2ba778374572ddba9/2024_2_QRC/en-US/pal/algorithms/hana_ml.algorithms.pal.decomposition.PCA.html",children:"hana_ml.algorithms.pal.decomposition.PCA"})," can be used for this purpose."]}),"\n"]}),(0,n.jsx)(t.h3,{id:"time-series-specific-preparations",children:"Time Series Specific Preparations"}),(0,n.jsxs)(t.ul,{children:["\n",(0,n.jsxs)(t.li,{children:[(0,n.jsx)(t.strong,{children:"Consistent Time Intervals:"})," Time series models benefit greatly from evenly spaced data points. Check for and correct any missing timestamps or irregular intervals using techniques like interpolation or backfilling."]}),"\n",(0,n.jsxs)(t.li,{children:[(0,n.jsx)(t.strong,{children:"Resampling:"})," You may need to resample or aggregate the data depending on the desired forecasting granularity (e.g., daily, weekly)."]}),"\n",(0,n.jsxs)(t.li,{children:[(0,n.jsx)(t.strong,{children:"Stationarity:"})," Many models (e.g., ARIMA) assume stationarity. Apply transformations like differencing or log transformations if the statistical properties of your series change over time."]}),"\n"]}),(0,n.jsx)(t.h2,{id:"model-evaluation",children:"Model Evaluation"}),(0,n.jsx)(t.p,{children:"Model performance metrics are crucial for quantifying how well a model is performing, comparing different models, and identifying areas for improvement."}),(0,n.jsx)(t.h3,{id:"regression-and-time-series-forecasting-evaluation",children:"Regression and Time Series Forecasting Evaluation"}),(0,n.jsx)(t.p,{children:"The following metrics are used to evaluate models that predict a continuous numerical value, such as regression and time series forecasting models."}),(0,n.jsxs)(t.table,{children:[(0,n.jsx)(t.thead,{children:(0,n.jsxs)(t.tr,{children:[(0,n.jsx)(t.th,{children:(0,n.jsx)(t.strong,{children:"Metric"})}),(0,n.jsx)(t.th,{children:(0,n.jsx)(t.strong,{children:"Description"})}),(0,n.jsx)(t.th,{children:(0,n.jsx)(t.strong,{children:"Interpretation"})})]})}),(0,n.jsxs)(t.tbody,{children:[(0,n.jsxs)(t.tr,{children:[(0,n.jsx)(t.td,{children:(0,n.jsx)(t.strong,{children:"R-squared (R\xb2)"})}),(0,n.jsx)(t.td,{children:"Also known as the coefficient of determination. It represents the proportion of the variance in the dependent variable that is predictable from the independent variable(s)."}),(0,n.jsx)(t.td,{children:"Values range from 0 to 1. A higher value indicates that more variability is explained by the model."})]}),(0,n.jsxs)(t.tr,{children:[(0,n.jsx)(t.td,{children:(0,n.jsx)(t.strong,{children:"Mean Absolute Error (MAE)"})}),(0,n.jsx)(t.td,{children:"The mean of the absolute differences between actual and forecasted values, expressed in the same units as the actual values."}),(0,n.jsx)(t.td,{children:"A lower MAE indicates better model performance. A value of 0 signifies a perfect forecast."})]}),(0,n.jsxs)(t.tr,{children:[(0,n.jsx)(t.td,{children:(0,n.jsx)(t.strong,{children:"Mean Absolute Percentage Error (MAPE)"})}),(0,n.jsx)(t.td,{children:"The mean of the absolute differences between actual and forecasted values, expressed as a percentage of the actual values."}),(0,n.jsx)(t.td,{children:"The lower the MAPE, the better the model. A value of 0 indicates a perfect model."})]}),(0,n.jsxs)(t.tr,{children:[(0,n.jsx)(t.td,{children:(0,n.jsx)(t.strong,{children:"Mean Squared Error (MSE)"})}),(0,n.jsx)(t.td,{children:"The average of the squared differences between the actual and predicted values."}),(0,n.jsx)(t.td,{children:"A lower value indicates a better fit. Penalizes larger errors more heavily than MAE."})]}),(0,n.jsxs)(t.tr,{children:[(0,n.jsx)(t.td,{children:(0,n.jsx)(t.strong,{children:"Root Mean Squared Error (RMSE)"})}),(0,n.jsx)(t.td,{children:"The square root of the MSE. It is in the same units as the target variable."}),(0,n.jsx)(t.td,{children:"A lower RMSE indicates the model's predictions are closer to the true values."})]}),(0,n.jsxs)(t.tr,{children:[(0,n.jsx)(t.td,{children:(0,n.jsx)(t.strong,{children:"Mean Absolute Scaled Error (MASE)"})}),(0,n.jsxs)(t.td,{children:[(0,n.jsx)(t.em,{children:"Time Series Specific:"})," Compares the model's MAE to that of a naive lag-1 model."]}),(0,n.jsx)(t.td,{children:"A value < 1 indicates the model is better than the naive forecast. The lower the MASE, the better."})]})]})]}),(0,n.jsx)(t.h3,{id:"classification-model-evaluation",children:"Classification Model Evaluation"}),(0,n.jsx)(t.p,{children:"For classification tasks, especially when dealing with imbalanced classes like in anomaly detection, a confusion matrix and related metrics are essential."}),(0,n.jsxs)("table",{children:[(0,n.jsx)("thead",{children:(0,n.jsxs)("tr",{children:[(0,n.jsx)("th",{style:{width:"15%"},children:(0,n.jsx)("strong",{children:"Metric"})}),(0,n.jsx)("th",{style:{width:"30%"},children:(0,n.jsx)("strong",{children:"Description"})}),(0,n.jsx)("th",{style:{width:"30%"},children:(0,n.jsx)("strong",{children:"How to Interpret"})}),(0,n.jsx)("th",{style:{width:"25%"},children:(0,n.jsx)("strong",{children:"SAP HANA ML Implementation (hana-ml / PAL)"})})]})}),(0,n.jsxs)("tbody",{children:[(0,n.jsxs)("tr",{children:[(0,n.jsx)("td",{children:(0,n.jsx)("strong",{children:"Confusion Matrix"})}),(0,n.jsx)("td",{children:(0,n.jsxs)(t.p,{children:["A table displaying:\n",(0,n.jsx)("br",{}),"- ",(0,n.jsx)("strong",{children:"True Positives (TP)"}),"\n",(0,n.jsx)("br",{}),"- ",(0,n.jsx)("strong",{children:"True Negatives (TN)"}),"\n",(0,n.jsx)("br",{}),"- ",(0,n.jsx)("strong",{children:"False Positives (FP)"})," (Type I error)\n",(0,n.jsx)("br",{}),"- ",(0,n.jsx)("strong",{children:"False Negatives (FN)"})," (Type II error)"]})}),(0,n.jsx)("td",{children:(0,n.jsx)(t.p,{children:"Details correct and incorrect classifications, revealing error types. Minimizing False Negatives is often critical when missing an event (like an anomaly) has a high cost."})}),(0,n.jsx)("td",{children:(0,n.jsx)("a",{href:"https://help.sap.com/doc/1d0ebfe5e8dd44d09606814d83308d4b/2.0.05/en-US/pal/algorithms/hana_ml.algorithms.pal.metrics.confusion_matrix.html",children:(0,n.jsx)(t.p,{children:"hana_ml.algorithms.pal.metrics.confusion_matrix"})})})]}),(0,n.jsxs)("tr",{children:[(0,n.jsx)("td",{children:(0,n.jsx)("strong",{children:"Precision, Recall, F1-Score"})}),(0,n.jsx)("td",{children:(0,n.jsxs)(t.ul,{children:["\n",(0,n.jsxs)(t.li,{children:[(0,n.jsx)("strong",{children:"Precision"}),": TP / (TP + FP). Measures the accuracy of positive predictions.\n",(0,n.jsx)("br",{}),"- ",(0,n.jsx)("strong",{children:"Recall"}),": TP / (TP + FN). Measures how many actual positives were identified.\n",(0,n.jsx)("br",{}),"- ",(0,n.jsx)("strong",{children:"F1-Score"}),": 2 \xd7 (Precision \xd7 Recall) / (Precision + Recall). Harmonic mean of Precision and Recall."]}),"\n"]})}),(0,n.jsx)("td",{children:"High precision minimizes false alarms; high recall minimizes missed positives. The F1-score provides a balance, especially for imbalanced datasets."}),(0,n.jsx)("td",{children:"Typically derived from the Confusion Matrix."})]}),(0,n.jsxs)("tr",{children:[(0,n.jsx)("td",{children:(0,n.jsx)("strong",{children:"ROC AUC"})}),(0,n.jsxs)("td",{children:[(0,n.jsx)("strong",{children:"Area Under the Receiver Operating Characteristic Curve."}),(0,n.jsx)("br",{}),(0,n.jsx)(t.p,{children:"Plots True Positive Rate vs. False Positive Rate."})]}),(0,n.jsx)("td",{children:(0,n.jsx)(t.p,{children:"Measures a model's ability to distinguish between classes across all thresholds. A value of 1 is perfect; 0.5 is random. Can be misleading with highly imbalanced datasets."})}),(0,n.jsx)("td",{children:(0,n.jsx)("a",{href:"https://help.sap.com/doc/1d0ebfe5e8dd44d09606814d83308d4b/2.0.07/en-US/pal/algorithms/hana_ml.algorithms.pal.metrics.auc.html",children:(0,n.jsx)(t.p,{children:"hana_ml.algorithms.pal.metrics.auc"})})})]})]})]}),(0,n.jsx)(t.p,{children:"Example: Confusion Matrix"}),(0,n.jsxs)(t.p,{children:["Using SAP HANA's ",(0,n.jsx)(t.a,{href:"https://help.sap.com/doc/1d0ebfe5e8dd44d09606814d83308d4b/2.0.07/en-US/pal/algorithms/hana_ml.algorithms.pal.metrics.confusion_matrix.html",children:"hana_ml.algorithms.pal.metrics.confusion_matrix"}),", we can compute the matrix and a classification report."]}),(0,n.jsx)(t.p,{children:"Code:"}),(0,n.jsx)(t.p,{children:(0,n.jsx)(t.img,{alt:"Confusion Matrix Example",src:i(4105).A+"",width:"960",height:"74"})}),(0,n.jsxs)(t.p,{children:[(0,n.jsx)(t.strong,{children:"Output Tables:"})," The confusion matrix output (cm) shows counts for each combination of original and predicted labels. The classification report (cr) provides Precision, Recall, and F-measure for each class."]}),(0,n.jsx)(t.p,{children:(0,n.jsx)(t.img,{alt:"Confusion Matrix Example",src:i(5506).A+"",width:"643",height:"594"})}),(0,n.jsxs)(t.p,{children:[(0,n.jsx)(t.strong,{children:"Plotted Confusion Matrix:"})," Visualizing the matrix helps in quickly identifying the model's performance."]}),(0,n.jsx)(t.p,{children:(0,n.jsx)(t.img,{alt:"Confusion Matrix Example",src:i(9042).A+"",width:"502",height:"438"})}),(0,n.jsx)(t.h3,{id:"evaluation-of-unsupervised-anomaly-detection",children:"Evaluation of Unsupervised Anomaly Detection"}),(0,n.jsx)(t.p,{children:"When ground truth labels are not available, evaluation becomes more qualitative."}),(0,n.jsxs)(t.table,{children:[(0,n.jsx)(t.thead,{children:(0,n.jsxs)(t.tr,{children:[(0,n.jsx)(t.th,{children:(0,n.jsx)(t.strong,{children:"Method"})}),(0,n.jsx)(t.th,{children:(0,n.jsx)(t.strong,{children:"Description"})}),(0,n.jsx)(t.th,{children:(0,n.jsx)(t.strong,{children:"Implementation Consideration with HANA ML"})})]})}),(0,n.jsxs)(t.tbody,{children:[(0,n.jsxs)(t.tr,{children:[(0,n.jsx)(t.td,{children:(0,n.jsx)(t.strong,{children:"Domain Expert Validation"})}),(0,n.jsx)(t.td,{children:"Present high-scoring anomalies to subject matter experts for review."}),(0,n.jsx)(t.td,{children:"Retrieve top N anomalies based on scores from PAL algorithms and visualize them for experts."})]}),(0,n.jsxs)(t.tr,{children:[(0,n.jsx)(t.td,{children:(0,n.jsx)(t.strong,{children:"Score Distribution Analysis"})}),(0,n.jsx)(t.td,{children:"Analyze the distribution of anomaly scores to identify natural thresholds or clusters of high scores."}),(0,n.jsx)(t.td,{children:"Fetch scores and visualize them using histograms or density plots to help set an informed threshold."})]}),(0,n.jsxs)(t.tr,{children:[(0,n.jsx)(t.td,{children:(0,n.jsx)(t.strong,{children:"Interpretability"})}),(0,n.jsxs)(t.td,{children:["Understand ",(0,n.jsx)(t.em,{children:"why"})," a point is flagged as an anomaly. Does the reason align with business logic?"]}),(0,n.jsx)(t.td,{children:"Analyze the feature values of flagged anomalies compared to normal data."})]}),(0,n.jsxs)(t.tr,{children:[(0,n.jsx)(t.td,{children:(0,n.jsx)(t.strong,{children:"Internal Cluster Validation"})}),(0,n.jsxs)(t.td,{children:["For clustering-based methods (DBSCAN, K-Means), use indices like the ",(0,n.jsx)(t.a,{href:"https://help.sap.com/doc/1d0ebfe5e8dd44d09606814d83308d4b/2.0.07/en-US/pal/algorithms/hana_ml.algorithms.pal.clustering.SlightSilhouette.html#hana_ml.algorithms.pal.clustering.SlightSilhouette",children:"Silhouette Score"})," to assess cluster quality. Outliers often have low scores."]}),(0,n.jsx)(t.td,{children:"PAL clustering algorithms provide cluster assignments. Points with low silhouette scores can be considered outliers."})]})]})]}),(0,n.jsx)(t.h3,{id:"clustering-performance-indicators",children:"Clustering Performance Indicators"}),(0,n.jsxs)(t.p,{children:[(0,n.jsx)(t.strong,{children:"Slight Silhouette:"})," Silhouette refers to a method used to validate the cluster of data. The complex of Silhouette is O(N2), where N represents the number of records. When N is very large, the silhouette costs a long time.\nConsidering the efficiency, PAL provides a light version of silhouette called slight silhouette, where \u20121 stands for the poor clustering result, and 1 stands for the good result."]}),(0,n.jsx)(t.h3,{id:"confidence-and-prediction-intervals",children:"Confidence and Prediction Intervals"}),(0,n.jsx)(t.p,{children:"For many models, understanding the uncertainty of a prediction is as important as the prediction itself."}),(0,n.jsxs)(t.ul,{children:["\n",(0,n.jsxs)(t.li,{children:[(0,n.jsx)(t.strong,{children:"Confidence Interval"}),": Provides a range of values within which the true mean of the estimate is expected to fall, with a certain level of confidence."]}),"\n",(0,n.jsxs)(t.li,{children:[(0,n.jsx)(t.strong,{children:"Prediction Interval"}),": Provides a range for a single future observation."]}),"\n"]}),(0,n.jsxs)(t.p,{children:["PAL supports ",(0,n.jsx)(t.a,{href:"https://help.sap.com/docs/hana-cloud-database/sap-hana-cloud-sap-hana-database-predictive-analysis-library/prediction-intervals-and-confidence-intervals-prediction-intervals-and-confidence-intervals-f157449",children:"confidence and prediction intervals"})," for models like ",(0,n.jsx)(t.strong,{children:"Generalized Linear Models (GLM)"}),", ",(0,n.jsx)(t.strong,{children:"Multiple Linear Regression (MLR)"}),", and ",(0,n.jsx)(t.strong,{children:"Hybrid Gradient Boosting Trees (HGBT)"}),", allowing users to assess the uncertainty around their predictions."]}),(0,n.jsx)("br",{}),(0,n.jsxs)("div",{className:"section-with-background blue",children:[(0,n.jsx)(t.h2,{id:"related-best-practices",children:(0,n.jsx)("span",{className:"post-article-first-title",children:"Related Best Practices"})}),(0,n.jsxs)("ul",{className:"button-grid",children:[(0,n.jsx)(o.A,{href:"/docs/technical-view/narrow-ai/time-series-forecasting",text:"Time Series Forecasting"}),(0,n.jsx)(o.A,{href:"/docs/technical-view/narrow-ai/anomaly-detection",text:"Anomaly Detection"}),(0,n.jsx)(o.A,{href:"/docs/technical-view/narrow-ai/regression",text:"Regression"})]})]}),(0,n.jsx)("br",{}),(0,n.jsxs)("div",{className:"section-with-background purple",children:[(0,n.jsx)(t.h2,{id:"related-ai-capabilities",children:"Related AI Capabilities"}),(0,n.jsxs)("ul",{className:"button-grid",children:[(0,n.jsx)(o.A,{href:"/docs/functional-view/decision-support/anomaly-detection",text:"Anomaly Detection"}),(0,n.jsx)(o.A,{href:"/docs/functional-view/decision-support/data-clustering",text:"Data Clustering"})]})]}),(0,n.jsx)("br",{}),(0,n.jsxs)("div",{className:"section-with-background gradient-violet-blue",children:[(0,n.jsx)(t.h2,{id:"contributors",children:"Contributors"}),(0,n.jsx)(c.A,{contributorIds:["francisco-robledo","sergio-pacheco-sanchez","luis-marques"]})]})]})]})}function g(e={}){const{wrapper:t}={...(0,s.R)(),...e.components};return t?(0,n.jsx)(t,{...e,children:(0,n.jsx)(m,{...e})}):m(e)}},5506:(e,t,i)=>{i.d(t,{A:()=>a});const a=i.p+"assets/images/output-tables-4c6dbdffa06138cbc02fe4de936c72d8.png"},5537:(e,t,i)=>{i.d(t,{A:()=>A});var a=i(6540),n=i(4164),s=i(5627),r=i(6347),o=i(372),l=i(604),c=i(1861),d=i(8749);function h(e){return a.Children.toArray(e).filter((e=>"\n"!==e)).map((e=>{if(!e||(0,a.isValidElement)(e)&&function(e){const{props:t}=e;return!!t&&"object"==typeof t&&"value"in t}(e))return e;throw new Error(`Docusaurus error: Bad <Tabs> child <${"string"==typeof e.type?e.type:e.type.name}>: all children of the <Tabs> component should be <TabItem>, and every <TabItem> should have a unique "value" prop.`)}))?.filter(Boolean)??[]}function u(e){const{values:t,children:i}=e;return(0,a.useMemo)((()=>{const e=t??function(e){return h(e).map((e=>{let{props:{value:t,label:i,attributes:a,default:n}}=e;return{value:t,label:i,attributes:a,default:n}}))}(i);return function(e){const t=(0,c.XI)(e,((e,t)=>e.value===t.value));if(t.length>0)throw new Error(`Docusaurus error: Duplicate values "${t.map((e=>e.value)).join(", ")}" found in <Tabs>. Every value needs to be unique.`)}(e),e}),[t,i])}function p(e){let{value:t,tabValues:i}=e;return i.some((e=>e.value===t))}function m(e){let{queryString:t=!1,groupId:i}=e;const n=(0,r.W6)(),s=function(e){let{queryString:t=!1,groupId:i}=e;if("string"==typeof t)return t;if(!1===t)return null;if(!0===t&&!i)throw new Error('Docusaurus error: The <Tabs> component groupId prop is required if queryString=true, because this value is used as the search param name. You can also provide an explicit value such as queryString="my-search-param".');return i??null}({queryString:t,groupId:i});return[(0,l.aZ)(s),(0,a.useCallback)((e=>{if(!s)return;const t=new URLSearchParams(n.location.search);t.set(s,e),n.replace({...n.location,search:t.toString()})}),[s,n])]}function g(e){const{defaultValue:t,queryString:i=!1,groupId:n}=e,s=u(e),[r,l]=(0,a.useState)((()=>function(e){let{defaultValue:t,tabValues:i}=e;if(0===i.length)throw new Error("Docusaurus error: the <Tabs> component requires at least one <TabItem> children component");if(t){if(!p({value:t,tabValues:i}))throw new Error(`Docusaurus error: The <Tabs> has a defaultValue "${t}" but none of its children has the corresponding value. Available values are: ${i.map((e=>e.value)).join(", ")}. If you intend to show no default tab, use defaultValue={null} instead.`);return t}const a=i.find((e=>e.default))??i[0];if(!a)throw new Error("Unexpected error: 0 tabValues");return a.value}({defaultValue:t,tabValues:s}))),[c,h]=m({queryString:i,groupId:n}),[g,f]=function(e){let{groupId:t}=e;const i=function(e){return e?`docusaurus.tab.${e}`:null}(t),[n,s]=(0,d.Dv)(i);return[n,(0,a.useCallback)((e=>{i&&s.set(e)}),[i,s])]}({groupId:n}),x=(()=>{const e=c??g;return p({value:e,tabValues:s})?e:null})();(0,o.A)((()=>{x&&l(x)}),[x]);return{selectedValue:r,selectValue:(0,a.useCallback)((e=>{if(!p({value:e,tabValues:s}))throw new Error(`Can't select invalid tab value=${e}`);l(e),h(e),f(e)}),[h,f,s]),tabValues:s}}var f=i(9136);const x={tabList:"tabList__CuJ",tabItem:"tabItem_LNqP"};var v=i(4848);function j(e){let{className:t,block:i,selectedValue:a,selectValue:r,tabValues:o}=e;const l=[],{blockElementScrollPositionUntilNextRender:c}=(0,s.a_)(),d=e=>{const t=e.currentTarget,i=l.indexOf(t),n=o[i].value;n!==a&&(c(t),r(n))},h=e=>{let t=null;switch(e.key){case"Enter":d(e);break;case"ArrowRight":{const i=l.indexOf(e.currentTarget)+1;t=l[i]??l[0];break}case"ArrowLeft":{const i=l.indexOf(e.currentTarget)-1;t=l[i]??l[l.length-1];break}}t?.focus()};return(0,v.jsx)("ul",{role:"tablist","aria-orientation":"horizontal",className:(0,n.A)("tabs",{"tabs--block":i},t),children:o.map((e=>{let{value:t,label:i,attributes:s}=e;return(0,v.jsx)("li",{role:"tab",tabIndex:a===t?0:-1,"aria-selected":a===t,ref:e=>{l.push(e)},onKeyDown:h,onClick:d,...s,className:(0,n.A)("tabs__item",x.tabItem,s?.className,{"tabs__item--active":a===t}),children:i??t},t)}))})}function b(e){let{lazy:t,children:i,selectedValue:s}=e;const r=(Array.isArray(i)?i:[i]).filter(Boolean);if(t){const e=r.find((e=>e.props.value===s));return e?(0,a.cloneElement)(e,{className:(0,n.A)("margin-top--md",e.props.className)}):null}return(0,v.jsx)("div",{className:"margin-top--md",children:r.map(((e,t)=>(0,a.cloneElement)(e,{key:t,hidden:e.props.value!==s})))})}function y(e){const t=g(e);return(0,v.jsxs)("div",{className:(0,n.A)("tabs-container",x.tabList),children:[(0,v.jsx)(j,{...t,...e}),(0,v.jsx)(b,{...t,...e})]})}function A(e){const t=(0,f.A)();return(0,v.jsx)(y,{...e,children:h(e.children)},String(t))}},9042:(e,t,i)=>{i.d(t,{A:()=>a});const a=i.p+"assets/images/plotted-confusion-matrix-24c66292d3874cf317c38daf8b5ee6c6.png"},9329:(e,t,i)=>{i.d(t,{A:()=>r});i(6540);var a=i(4164);const n={tabItem:"tabItem_Ymn6"};var s=i(4848);function r(e){let{children:t,hidden:i,className:r}=e;return(0,s.jsx)("div",{role:"tabpanel",className:(0,a.A)(n.tabItem,r),hidden:i,children:t})}}}]);